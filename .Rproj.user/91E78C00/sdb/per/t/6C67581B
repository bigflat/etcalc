{
    "collab_server" : "",
    "contents" : "\nrm(list=ls(all=TRUE))\n\nlibrary(ggplot2)\n\n# V2 looks at specific days of shrub cutting\n# subset rainy season monthsmonths\n# rainmns = c(\"May\",\"June\",\"July\",\"August\",\"September\", \"October\")\n\n\n#read file\n# all_data = read.csv('KeurMatar_compiled_soil.csv',skip = 0, sep=',', head=T)\ndat_hr = read.csv('2015KVWST2_1hr.csv',skip = 0, sep=',', head=T)\n\n# date creation shortcut function\nf.tfun = function(x){ #function to calculate posixct time for GMT (Senegal)\n  as.POSIXct(x,origin = '1970-01-01 00:00:00', tz=\"GMT\")\n}\n\ndat_hr$logger_time_formatted    = as.POSIXct(dat_hr$logger_time_formatted,origin = 1970-01-01, tz=\"GMT\")\n\n\nlogger_time_formatted = dat_hr$logger_time_formatted\n\n# stop('here')\nd.start = f.tfun('2013-07-01 00:00:00')\nd.end   = f.tfun('2013-08-01 00:00:00')\nx = c(d.start, d.end)\nis.date <- function(x) inherits(x, 'Date')\nis.date(x)\n# \nsubdat.fun = function(timelimit_vec, dat){\n     ck = as.POSIXct('2012-01-01 00:00:00',origin = '1970-01-01 00:00:00', tz=\"GMT\")\n     if(!sum(class(timelimit_vec) == class(ck)) == 2 ){stop('timelimit_vec not POSIXct format')}\n     if(!sum(class(dat$logger_time_formatted) == class(ck)) == 2 ){stop('dat$logger_time_formatted not POSIXct format')}\n     # dat[dat$logger_time_formatted > timelimit_vec[1] & dat$logger_time_formatted < timelimit_vec[1],]\n}\nsubdat.fun(x)    \n# stop('here')\n# Aggregate T and precip data by day\ndaily_time_series  = cut(dat_hr$logger_time_formatted, breaks=\"day\")\n# dat_hr  \t= dat_hr[,2:ncol(dat_hr)]\ndat_hr.int    = dat_hr[,3:ncol(dat_hr)]\n soil_daily =  aggregate(dat_hr.int[1:ncol(dat_hr.int)], list(daily_time_series), mean, na.rm=T)\n \n soil_daily.max =  aggregate(dat_hr.int[1:ncol(dat_hr.int)], list(daily_time_series), max, na.rm=T)\n \nsoil_daily$logger_time_formatted = f.tfun(soil_daily$Group.1)\nsoil_daily.max$logger_time_formatted = f.tfun(soil_daily.max$Group.1)\n# plot(dat_hr$logger_time_formatted, dat_hr$CS_010_0_sTM, type = 'l')\n\n\ndat.daily = soil_daily\ndat.daily = dat.daily[c(\"logger_time_formatted\", \"BS_010_0_sTM\", \"BS_020_0_sTM\", \n             \"CO_010_0_sTM\", \"CO_020_0_sTM\", \"CO_020_1_sTM\", \"CS_010_0_sTM\", \n             \"CS_020_0_sTM\", \"CS_020_1_sTM\", \"CS_020_2_sTM\", \"BS_010_0_sWC\", \n             \"BS_020_0_sWC\", \"CO_010_0_sWC\", \"CO_020_0_sWC\", \"CO_020_1_sWC\",\n             \"CS_010_0_sWC\", \"CS_020_0_sWC\", \"CS_020_1_sWC\", \"CS_020_2_sWC\")]\n\ndat.daily.max = soil_daily.max\ndat.daily.max = dat.daily.max[c(\"logger_time_formatted\", \"BS_010_0_sTM\", \"BS_020_0_sTM\", \n                        \"CO_010_0_sTM\", \"CO_020_0_sTM\", \"CO_020_1_sTM\", \"CS_010_0_sTM\", \n                        \"CS_020_0_sTM\", \"CS_020_1_sTM\", \"CS_020_2_sTM\", \"BS_010_0_sWC\", \n                        \"BS_020_0_sWC\", \"CO_010_0_sWC\", \"CO_020_0_sWC\", \"CO_020_1_sWC\",\n                        \"CS_010_0_sWC\", \"CS_020_0_sWC\", \"CS_020_1_sWC\", \"CS_020_2_sWC\")]\n\nxlim.2012 = c(f.tfun('2012-07-01 00:00:00'), f.tfun('2012-08-15 00:00:00'))\nxlim.2012_harv =  c(f.tfun('2012-10-01 00:00:00'), f.tfun('2012-10-25 00:00:00'))\n     harv.2012 = f.tfun('2012-10-16 00:00:00')\nxlim.2013 = c(f.tfun('2013-07-01 00:00:00'), f.tfun('2013-08-15 00:00:00'))\n     cut1.2013 = f.tfun('2013-06-04 00:00:00')\n     cut2.2013 = f.tfun('2013-07-15 00:00:00')\n\nxlim.2013_harv = c(f.tfun('2013-10-15 00:00:00'), f.tfun('2013-11-05 00:00:00'))\n     harv.2013 = f.tfun('2013-10-28 00:00:00')\n\nxlim.2014 = c(f.tfun('2014-07-15 00:00:00'), f.tfun('2014-09-01 00:00:00'))\n     irrig.cut1.2014 = f.tfun('2014-02-26 00:00:00')\n     irrig.1.2014  = f.tfun('2014-03-05 00:00:00')\nxlim.2015 = c(f.tfun('2015-07-01 00:00:00'), f.tfun('2015-08-15 00:00:00'))\n\nallx.lims = list(xlim.2013, xlim.2014, xlim.2015)\n#Temperature difference in daily maximums\n\n",
    "created" : 1484335170672.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3085739440",
    "id" : "6C67581B",
    "lastKnownWriteTime" : 1484335019,
    "last_content_update" : 1484335019,
    "path" : "~/Dropbox/@PIRE/Matt Bright/Matt_manuscript/Matt_moisture/Shallow_moisture_stats.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}